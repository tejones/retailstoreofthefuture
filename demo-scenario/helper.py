import json


SCENARIO_NR = 3
SCENARIO = {"customer":{"customer_id":"32"},"path":[{"type":"ENTER","location":{"x":937,"y":50},"timestamp":1735746906403},{"type":"MOVE","location":{"x":1005.0114595898674,"y":212.96392996186108},"timestamp":1735746907403},{"type":"MOVE","location":{"x":1073.0229191797348,"y":375.92785992372217},"timestamp":1735746908403},{"type":"MOVE","location":{"x":1118.822677925211,"y":493.26950406176263},"timestamp":1735746909403},{"type":"MOVE","location":{"x":1101.3751507840773,"y":530.2103920311457},"timestamp":1735746910403},{"type":"MOVE","location":{"x":1057.7563329312425,"y":560.6322997706377},"timestamp":1735746911403},{"type":"MOVE","location":{"x":1073.0229191797348,"y":582.3622338702748},"timestamp":1735746912403},{"type":"MOVE","location":{"x":1125.3655006031363,"y":597.5731877400208},"timestamp":1735746913403},{"type":"MOVE","location":{"x":1182.0699638118215,"y":582.3622338702748},"timestamp":1735746914403},{"type":"MOVE","location":{"x":1158.0796139927625,"y":538.9023656710006},"timestamp":1735746915403},{"type":"MOVE","location":{"x":1129.7273823884198,"y":523.6914118012546},"timestamp":1735746916403},{"type":"MOVE","location":{"x":1118.822677925211,"y":545.4213459008918},"timestamp":1735746917403},{"type":"MOVE","location":{"x":1083.9276236429432,"y":562.8052931806014},"timestamp":1735746918403},{"type":"MOVE","location":{"x":1029.4041013269,"y":586.7082206902022},"timestamp":1735746919403},{"type":"MOVE","location":{"x":966.1568154402894,"y":591.0542075101297},"timestamp":1735746920403},{"type":"MOVE","location":{"x":920.357056694813,"y":593.2272009200934},"timestamp":1735746921403},{"type":"MOVE","location":{"x":900.7285886610374,"y":595.4001943300572},"timestamp":1735746922403},{"type":"MOVE","location":{"x":898.5476477683957,"y":612.7841416097667},"timestamp":1735746923403},{"type":"MOVE","location":{"x":820.0337756332931,"y":617.1301284296942},"timestamp":1735746924403},{"type":"MOVE","location":{"x":885.4620024125453,"y":610.6111481998031},"timestamp":1735746925403},{"type":"MOVE","location":{"x":865.8335343787696,"y":593.2272009200934},"timestamp":1735746926403},{"type":"MOVE","location":{"x":824.3956574185765,"y":593.2272009200934},"timestamp":1735746927403},{"type":"MOVE","location":{"x":772.0530759951749,"y":608.4381547898394},"timestamp":1735746928403},{"type":"MOVE","location":{"x":741.5199034981906,"y":588.881214100166},"timestamp":1735746929403},{"type":"MOVE","location":{"x":758.9674306393246,"y":551.9403261307829},"timestamp":1735746930403},{"type":"MOVE","location":{"x":791.6815440289505,"y":543.248352490928},"timestamp":1735746931403},{"type":"MOVE","location":{"x":817.8528347406514,"y":543.248352490928},"timestamp":1735746932403},{"type":"MOVE","location":{"x":854.928829915561,"y":528.037398621182},"timestamp":1735746933403},{"type":"MOVE","location":{"x":874.5572979493365,"y":510.65345134147236},"timestamp":1735746934403},{"type":"MOVE","location":{"x":911.633293124246,"y":501.96147770161747},"timestamp":1735746935403},{"type":"MOVE","location":{"x":920.357056694813,"y":521.5184183912909},"timestamp":1735746936403},{"type":"MOVE","location":{"x":922.5379975874548,"y":545.4213459008918},"timestamp":1735746937403},{"type":"MOVE","location":{"x":876.7382388419783,"y":562.8052931806014},"timestamp":1735746938403},{"type":"MOVE","location":{"x":789.5006031363088,"y":560.6322997706377},"timestamp":1735746939403},{"type":"MOVE","location":{"x":728.4342581423401,"y":521.5184183912909},"timestamp":1735746940403},{"type":"MOVE","location":{"x":721.8914354644149,"y":475.8855567820529},"timestamp":1735746941403},{"type":"MOVE","location":{"x":669.5488540410132,"y":484.57753042190774},"timestamp":1735746942403},{"type":"MOVE","location":{"x":639.015681544029,"y":532.3833854411095},"timestamp":1735746943403},{"type":"MOVE","location":{"x":593.2159227985525,"y":660.5899966289685},"timestamp":1735746944403},{"type":"MOVE","location":{"x":595.3968636911942,"y":723.6068055179161},"timestamp":1735746945403},{"type":"MOVE","location":{"x":617.2062726176116,"y":784.4506209969},"timestamp":1735746946403},{"type":"MOVE","location":{"x":591.0349819059107,"y":808.3535485065009},"timestamp":1735746947403},{"type":"MOVE","location":{"x":532.1495778045838,"y":793.1425946367549},"timestamp":1735746948403},{"type":"MOVE","location":{"x":534.3305186972257,"y":704.0498648282428},"timestamp":1735746949403},{"type":"MOVE","location":{"x":501.6164053075995,"y":645.3790427592226},"timestamp":1735746950403},{"type":"MOVE","location":{"x":420.92159227985525,"y":634.514075709404},"timestamp":1735746951403},{"type":"MOVE","location":{"x":161.38962605548855,"y":651.8980229891135},"timestamp":1735746952403},{"type":"MOVE","location":{"x":130.85645355850423,"y":691.0119043684605},"timestamp":1735746953403},{"type":"MOVE","location":{"x":139.58021712907117,"y":719.2608186979887},"timestamp":1735746954403},{"type":"MOVE","location":{"x":152.6658624849216,"y":758.3747000773355},"timestamp":1735746955403},{"type":"MOVE","location":{"x":152.6658624849216,"y":793.1425946367549},"timestamp":1735746956403},{"type":"MOVE","location":{"x":152.6658624849216,"y":799.661574866646},"timestamp":1735746957403},{"type":"MOVE","location":{"x":150.48492159227985,"y":827.9104891961742},"timestamp":1735746958403},{"type":"MOVE","location":{"x":150.48492159227985,"y":869.1973639854847},"timestamp":1735746959403},{"type":"MOVE","location":{"x":152.6658624849216,"y":914.8302255947227},"timestamp":1735746960403},{"type":"MOVE","location":{"x":167.93244873341374,"y":925.6951926445413},"timestamp":1735746961403},{"type":"MOVE","location":{"x":222.4559710494572,"y":930.0411794644687},"timestamp":1735746962403},{"type":"MOVE","location":{"x":220.27503015681546,"y":980.020027893634},"timestamp":1735746963403},{"type":"MOVE","location":{"x":211.5512665862485,"y":1001.7499619932712},"timestamp":1735746964403},{"type":"MOVE","location":{"x":276.97949336550056,"y":1049.555817012473},"timestamp":1735746965403},{"type":"MOVE","location":{"x":362.03618817852833,"y":1034.3448631427268},"timestamp":1735746966403},{"type":"MOVE","location":{"x":436.1881785283474,"y":1043.0368367825818},"timestamp":1735746967403},{"type":"MOVE","location":{"x":429.6453558504222,"y":1077.804731342001},"timestamp":1735746968403},{"type":"MOVE","location":{"x":416.5597104945718,"y":1121.2645995412754},"timestamp":1735746969403},{"type":"MOVE","location":{"x":372.94089264173704,"y":1125.6105863612029},"timestamp":1735746970403},{"type":"MOVE","location":{"x":314.0554885404101,"y":1101.707658851602},"timestamp":1735746971403},{"type":"MOVE","location":{"x":296.60796139927623,"y":1142.9945336409126},"timestamp":1735746972403},{"type":"MOVE","location":{"x":244.26537997587454,"y":1166.8974611505134},"timestamp":1735746973403},{"type":"MOVE","location":{"x":174.47527141133895,"y":1162.551474330586},"timestamp":1735746974403},{"type":"MOVE","location":{"x":170.1133896260555,"y":1108.2266390814932},"timestamp":1735746975403},{"type":"MOVE","location":{"x":146.1230398069964,"y":1038.6908499626545},"timestamp":1735746976403},{"type":"MOVE","location":{"x":122.13268998793727,"y":1064.766770882219},"timestamp":1735746977403},{"type":"MOVE","location":{"x":122.13268998793727,"y":1116.918612721348},"timestamp":1735746978403},{"type":"MOVE","location":{"x":143.94209891435463,"y":1158.2054875106585},"timestamp":1735746979403},{"type":"MOVE","location":{"x":263.8938480096502,"y":1199.492362299969},"timestamp":1735746980403},{"type":"MOVE","location":{"x":340.226779252111,"y":1203.8383491198963},"timestamp":1735746981403},{"type":"MOVE","location":{"x":444.9119420989144,"y":1171.2434479704407},"timestamp":1735746982403},{"type":"MOVE","location":{"x":479.80699638118216,"y":1151.6865072807673},"timestamp":1735746983403},{"type":"MOVE","location":{"x":636.8347406513873,"y":1140.8215402309488},"timestamp":1735746984403},{"type":"MOVE","location":{"x":772.0530759951749,"y":1136.4755534110213},"timestamp":1735746985403},{"type":"MOVE","location":{"x":994.5090470446321,"y":1132.129566591094},"timestamp":1735746986403},{"type":"MOVE","location":{"x":1175.5271411338963,"y":1098.4481687366565},"timestamp":1735746987403},{"type":"MOVE","location":{"x":1356.5452352231603,"y":1064.766770882219},"timestamp":1735746988403},{"type":"MOVE","location":{"x":1382.7165259348612,"y":1051.7288104224365},"timestamp":1735746989403},{"type":"MOVE","location":{"x":1454.6875753920385,"y":1058.2477906523277},"timestamp":1735746990403},{"type":"MOVE","location":{"x":1520.1158021712906,"y":1056.074797242364},"timestamp":1735746991403},{"type":"MOVE","location":{"x":1666.2388419782872,"y":1166.8974611505134},"timestamp":1735746992403},{"type":"MOVE","location":{"x":1683.686369119421,"y":1084.3237115718923},"timestamp":1735746993403},{"type":"MOVE","location":{"x":1596.4487334137514,"y":1029.9988763227996},"timestamp":1735746994403},{"type":"MOVE","location":{"x":1573.5488540410133,"y":760.5476934872993},"timestamp":1735746995403},{"type":"MOVE","location":{"x":1550.648974668275,"y":491.09651065179895},"timestamp":1735746996403},{"type":"MOVE","location":{"x":1587.7249698431845,"y":397.6577940233593},"timestamp":1735746997403},{"type":"MOVE","location":{"x":1646.6103739445116,"y":402.0037808432867},"timestamp":1735746998403},{"type":"MOVE","location":{"x":1653.1531966224366,"y":447.6366424525247},"timestamp":1735746999403},{"type":"MOVE","location":{"x":1605.1724969843183,"y":471.5395699621255},"timestamp":1735747000403},{"type":"MOVE","location":{"x":1653.1531966224366,"y":484.57753042190774},"timestamp":1735747001403},{"type":"MOVE","location":{"x":1685.8673100120627,"y":473.7125633720892},"timestamp":1735747002403},{"type":"MOVE","location":{"x":1703.3148371531965,"y":419.3877281229964},"timestamp":1735747003403},{"type":"MOVE","location":{"x":1683.686369119421,"y":336.81397854437535},"timestamp":1735747004403},{"type":"MOVE","location":{"x":1419.7925211097709,"y":279.229653180337},"timestamp":1735747005403},{"type":"MOVE","location":{"x":1155.8986731001205,"y":221.64532781629862},"timestamp":1735747006403},{"type":"EXIT","location":{"x":1071,"y":50},"timestamp":1735747007403}]}


def change_structure(data, cid):
    new_structure = {
        'type': data['type'],
        'message': {
            'id': cid,
            'x': data['location']['x'],
            'y': data['location']['y']
        }
    }
    return new_structure


if __name__ == "__main__":
    cid = SCENARIO['customer']['customer_id']
    events = []

    for event in SCENARIO['path']:
        new_event = change_structure(event, cid)
        events.append(new_event)

    with open(f'scenario_{SCENARIO_NR}.json', 'w') as f:
        json.dump(events, f, indent=4)
    